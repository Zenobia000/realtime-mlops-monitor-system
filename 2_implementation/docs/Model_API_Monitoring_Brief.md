# 專案簡報 / PRD 摘要 (Project Brief / PRD Summary)

---

**專案名稱 (Project Name):** Model API 即時監控系統 (Real-time Model API Monitoring System)

**版本 (Version):** `v0.1`

**最後更新 (Last Updated):** `2025-07-01`

**負責人/團隊 (Owner/Team):** MLOps Team / Vibe Coder

**狀態 (Status):** `規劃中 (Planning)`

---

## 1. 專案概述 (Project Overview)

### 1.1 一行說明 (One-Liner)
*   一個專注於機器學習模型 API 的即時監控系統，提供對其性能、資源使用和行為的視覺化洞察。

### 1.2 問題陳述 (Problem Statement)
*   隨著機器學習模型在生產環境中的廣泛應用，團隊普遍缺乏對其 API 服務的即時監控能力。這導致了性能瓶頸難以發現、資源分配效率低下、模型線上表現退化無法及時察覺，以及在出現問題時故障排查耗時過長等痛點。

### 1.3 建議解決方案 (Proposed Solution)
*   開發一個輕量級、易於整合的監控系統。該系統透過一個非侵入式的 API 攔截器收集指標，經由 RabbitMQ 傳輸至 FastAPI 後端進行處理，最終在 Vue.js 驅動的實時儀表板上進行視覺化展示。

### 1.4 目標用戶 (Target Users / Audience)
*   **主要用戶群體 1:** MLOps 工程師，負責部署、維護和監控生產環境中的 ML 模型。
*   **次要用戶群體 2:** 數據科學家，需要了解其模型在實際應用中的性能和行為。
*   **次要用戶群體 3:** 維運 (DevOps) 團隊，負責底層基礎設施的穩定性和資源管理。

### 1.5 專案目標與成功指標 (Goals & Success Metrics)
*   **主要目標 (Primary Goals):**
    *   目標 1: 建立一個 MVP 級別的 Model API 即時監控儀表板，驗證核心監控指標（延遲、QPS、錯誤率）的可行性。
    *   目標 2: 提升 ML 模型在生產環境中的可觀測性，縮短問題排查時間。
*   **成功指標/KPIs (Key Performance Indicators):**
    *   KPI 1 (對應目標 1): 監控代理造成的額外 API 響應延遲 < 20ms。
    *   KPI 2 (對應目標 1): 儀表板數據更新延遲 < 5 秒。
    *   KPI 3 (對應目標 2): 儀表板能夠成功識別並展示至少 3 種類型的性能問題（例如：高延遲、高錯誤率、資源瓶頸）。
    *   KPI 4 (對應目標 2): MLOps 團隊確認，在引入此系統後，平均故障排查時間 (MTTR) 減少 30%。
*   **非目標 (Non-Goals):**
    *   本專案不包含複雜的根本原因分析 (Root Cause Analysis) 功能。
    *   本專案不包含自動化的模型重訓練或部署回滾。
    *   本專案不是一個完整的日誌聚合與管理平台 (如 ELK Stack)。
    *   本專案不包含 ETL 或數據流管道的監控。

## 2. 核心使用者故事 / 主要功能 (Key User Stories / Features)

| ID (選填) | User Story / Feature 標題                     | 簡要描述 (As a [角色], I want [需求], so that [價值])                                                              | 優先級 (P0/P1/P2) | 狀態 (待辦/進行中/完成) |
| :-------- | :-------------------------------------------- | :------------------------------------------------------------------------------------------------------------------- | :---------------- | :-------------------- |
| US-001    | `監控儀表板總覽`                              | `身為 MLOps 工程師，我想要在單一儀表板上看到所有受監控模型的關鍵指標（QPS, 延遲, 錯誤率），以便快速評估系統整體健康狀況。` | P0                | 待辦                  |
| US-002    | `收集 API 性能指標`                           | `身為監控系統，我需要能夠攔截每一個對 Model API 的請求，以記錄其響應時間、狀態碼和時間戳，從而提供準確的性能數據。`       | P0                | 待辦                  |
| US-003    | `監控容器資源使用`                            | `身為 MLOps 工程師，我希望能查看每個 Model API 容器的 CPU 和記憶體使用情況，以便識別資源瓶頸或利用率不足的問題。`          | P1                | 待辦                  |
| US-004    | `設定基本告警`                                | `身為維運團隊成員，我希望在模型的 P95 延遲或錯誤率超過預設閾值時收到通知，以便能主動應對潛在的服務問題。`                 | P1                | 待辦                  |
| US-005    | `查看歷史性能趨勢`                            | `身為數據科學家，我想要查看模型在過去 24 小時的性能趨勢，以便分析其在不同負載下的表現。`                                 | P2                | 待辦                  |


## 3. 里程碑與時程規劃 (Milestones & Timeline)

| 里程碑 (Milestone)         | 預期完成日期 | 主要交付物 / 範圍                                            |
| :------------------------- | :----------- | :----------------------------------------------------------- |
| `Phase 1: 基礎架構與指標收集` | `2025-07-08` | `完成後端服務、指標收集器和 Docker 環境，能夠收集延遲、QPS 等核心數據。` |
| `Phase 2: 實時儀表板開發`    | `2025-07-15` | `完成前端儀表板，透過 WebSocket 即時顯示核心性能指標與圖表。`     |
| `Phase 3: 告警與歷史數據功能`| `2025-07-22` | `完成基本告警功能和歷史數據查詢，MVP 功能完整。`               |

## 4. 依賴關係與風險 (Dependencies & Risks)

*   **主要依賴 (Key Dependencies):**
    *   需要一個穩定且 API 接口已定義的、基於 Docker 的現有 Model API 服務。
    *   需要提供 Model API 服務的 IP 地址、端口號以及監控所需的網路訪問權限。
*   **主要風險 (Key Risks) 與緩解措施:**

| 風isk描述                                 | 可能性 (高/中/低) | 影響程度 (高/中/低) | 緩解/應對措施                                   |
| :--------------------------------------- | :---------------- | :---------------- | :---------------------------------------------- |
| `監控代理對現有 API 的性能影響超出預期`    | 中                | 高                | `進行壓力測試，優化攔截器邏輯，採用異步方式發送指標數據。` |
| `與現有 Model API 的整合複雜度高於預期`    | 中                | 中                | `提供清晰的整合文檔和範例代碼，初期與 Model API 開發者密切合作。` |
| `前端圖表即時刷新出現性能問題`             | 低                | 中                | `對數據點進行降採樣，優化 WebSocket 訊息傳輸格式，使用優化的圖表庫。` |

## 5. 附錄 (Appendix - 選填)

*   [系統架構圖 (連結待補)]
*   [API 規格文檔 (連結待補)]

---
**文件審核記錄 (Review History - 選填):**

| 日期       | 審核人     | 版本 | 備註     |
| :--------- | :--------- | :--- | :------- |
| 2025-07-01 | [Vibe Coder] | v0.1 | 初稿建立 | 